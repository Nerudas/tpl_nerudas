(function(b){function d(){b(b("[data-ratio-height]")).each(function(){var g=b(this).data("ratio-height");var f=g[0];var e=g[1];b(this).height(Math.round((b(this).width()/f)*e))})}function a(){if(b("*").is(".tm-middle")){var e=b(window).height()-b(".tm-middle").offset().top-b(".tm-footer").outerHeight(true);if(e<b(window).height()){}}}function c(){var i=b(".tm-top .uk-navbar-breadcrumb");var g=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb");var e=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop");var f=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop ul");var h=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop > a > .text");if(g.width()>i.width()){b(b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item")).each(function(){if(b(g).width()>i.width()){var j=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item");e.removeClass("uk-hidden");var k=b(this).find("a .text").text();if(k!==""){h.text(k)}b(this).prependTo(f);if(b(j).length==1){e.width(i.width())}}})}else{b(b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop .item")).each(function(){if(b(g).width()<=i.width()){var j=b(this).parent().find("li");var k=b(j[1]).find("a .text").text();if(k!==""){h.text(k)}e.after(b(this));if(b(j).length==0){e.addClass("uk-hidden")}}else{e.addClass("uk-hidden")}})}}b(document).ready(function(){b("#navigation").on({"show.uk.offcanvas":function(){b("body").css("overflow","hidden")},"hide.uk.offcanvas":function(){b("body").css("overflow","")}});b("time.timeago").timeago();b("body").on("keyup","input[data-numbers]",function(){var j=b(this).val().replace(/[^\d]*/g,"").replace(/^[^\d]*(\d+([.,]\d{0,5})?).*$/g,"$1");b(this).val(j)});if(b("*").is(".uk-form-file-input")){b("input.uk-form-file-input").change(function(){b(this).parent().find(".uk-form-file-text").text(jQuery(this).val())})}b("#regionSelect").on("show.uk.modal",function(){b("#openRegionSelect").trigger("click")});b("[data-set-region]").live("click",function(){UIkit.modal("#regionSelect").hide();b.cookie("region",b(this).data("set-region"),{expires:365,path:"/"});location.reload()});if(b("*").is("[data-phones]")){e("start",b(this))}b("body").on("click","[data-phone-add]",function(){e("add",b(this).parents("[data-phones]"))});function e(n,l){var k=l.find("[data-phone]");if(n=="start"){b(k).each(function(){var o=b(this).find("[data-phone-number] input");if(o.val()!==""){b(this).removeClass("uk-hidden");b(this).addClass("uk-show")}})}var m=l.find("[data-phone].uk-hidden");if(m.length>0){m[0].removeClass("uk-hidden");m[0].addClass("uk-show")}var j=l.find("[data-phone].uk-show");if(j.length==k.length){l.find("[data-phone-add]").addClass("uk-hidden")}}if(window.location.hash){var i=window.location.hash.substring(1);if(i){b("#tabs-nav ."+i).addClass("uk-active")}}b("#comments .uk-pagination a").each(function(){if(b(this).attr("href")){b(this).attr("href",b(this).attr("href")+"#comments")}});b("#tabs-nav a").on("click",function(){var j=b(this).parent().attr("class");window.location.hash=j});if(b("body").find("#modal-map").length>0){var h;function g(){var j=new ymaps.Map("modal-map",{center:[0,0],zoom:10,controls:["zoomControl"]});b("body").on("click","[data-nerudas-modal-map]",function(){var k=b(this).data("nerudas-modal-map");UIkit.modal("#mapModal").show();b("#modal-map").height(Math.round((b("#modal-map").width()/4)*3));b("#mapModal .uk-modal-header").html('<a href="'+k.link+'" class="uk-link-muted">'+k.title+"</a>");j.geoObjects.removeAll();contentLayout=ymaps.templateLayoutFactory.createClass('<a style=" display:block; position: absolute; padding: 10px; bottom: 10px; color: #444; font-weight: bold; text-align: left; white-space: nowrap; border: 1px solid #e5e5e5; background: #fff;" href="'+k.link+'">'+k.title+"</a>"),j.setCenter([k.latitude,k.longitude],k.zoom,{checkZoomRange:true});j.geoObjects.add(new ymaps.Placemark([k.latitude,k.longitude],{balloonContentHeader:'<a href="'+k.link+'">'+k.title+"</a>",balloonContent:k.text,iconContent:k.title},{iconImageHref:k.mark,iconLayout:"default#imageWithContent",iconImageSize:JSON.parse(k.markSize),iconImageOffset:JSON.parse(k.markOffset),iconContentLayout:contentLayout,preset:"default#image"}))})}ymaps.ready(g)}jQuery(jQuery(".uk-form input[type=radio]")).each(function(j){if(jQuery(this).parents("[data-uk-button-radio]").length<1){f(jQuery(this))}});f(jQuery(".uk-form input[type=checkbox]"));function f(j){j.iCheck({radioClass:"iradio",checkboxClass:"icheckbox"})}a();d();c()});b(window).resize(function(){a();d();c()})})(jQuery);function setAutoTextFieldWidth(b){var a=(b.val().length+1)*8;b.css("width",a)}function addPagination(a,b){var b=jQuery.parseJSON(b);var a=jQuery(a);(function(d){var e=3;if(d("body").innerWidth()>=480){var e=5}if(d("body").innerWidth()>=768){var e=7}a.html("");var c=UIkit.pagination(a);c.options.pages=b.pagesTotal;c.options.currentPage=b.pagesCurrent-1;c.options.displayedPages=e;c.init();d(d(a.selector+" a")).each(function(){var f=getPaginationURLParams(window.location.href.split("#")[0]);f.start=d(this).data("page")*b.limit;var g=window.location.href.split("?")[0];var g=g+"?"+getPaginationURL(f);if(window.location.hash){var g=g+window.location.hash}d(this).attr("href",g);d(this).removeAttr("data-page")})})(jQuery)}function getPaginationURLParams(a){var c={};var d=a.substring(a.indexOf("?")+1).split("&");for(var b=0;b<d.length;b++){if(!d[b]){continue}var e=d[b].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}function getPaginationURL(c){var b=[];for(var a in c){if(c.hasOwnProperty(a)){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c[a]))}}return b.join("&")};