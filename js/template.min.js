(function(c){function e(){c(c("[data-ratio-height]")).each(function(){var h=c(this).data("ratio-height");var g=h[0];var f=h[1];c(this).height(Math.round((c(this).width()/g)*f))})}function b(){if(c("*").is(".tm-middle")){var f=c(window).height()-c(".tm-middle").offset().top-c(".tm-footer").outerHeight(true);if(f<c(window).height()){}}}function d(){var j=c(".tm-top .uk-navbar-breadcrumb");var h=c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb");var f=c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop");var g=c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop ul");var i=c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop > a > .text");if(h.width()>j.width()){c(c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item")).each(function(){if(c(h).width()>j.width()){var k=c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item");f.removeClass("uk-hidden");var l=c(this).find("a .text").text();if(l!==""){i.text(l)}c(this).prependTo(g);if(c(k).length==1){f.width(j.width())}}})}else{c(c(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop .item")).each(function(){if(c(h).width()<=j.width()){var k=c(this).parent().find("li");var l=c(k[1]).find("a .text").text();if(l!==""){i.text(l)}f.after(c(this));if(c(k).length==0){f.addClass("uk-hidden")}}else{f.addClass("uk-hidden")}})}}c(document).ready(function(){c("[data-save-tabs]").each(function(){var f=window.location.href+"#"+c(this).data("save-tabs"),g=sessionStorage.getItem(f);if(g){c(this).find('a[href="'+g+'"]').closest("li").addClass("uk-active")}c(this).find("a").on("click",function(){sessionStorage.setItem(f,c(this).attr("href"))})})});function a(){var f=c("html.new .tm-middle.map");if(f.length>0){c(f).outerHeight(c(window).outerHeight()-c(f).offset().top)}}c(document).ready(function(){a();c("#navigation").on({"show.uk.offcanvas":function(){c("body").css("overflow","hidden")},"hide.uk.offcanvas":function(){c("body").css("overflow","")}});c(window).scroll(function(){if(c(this).scrollTop()>100){c("#backToTop").fadeIn()}else{c("#backToTop").fadeOut()}});c("time.timeago").timeago();c("body").on("keyup","input[data-numbers]",function(){var j=c(this).val().replace(/[^\d]*/g,"").replace(/^[^\d]*(\d+([.,]\d{0,5})?).*$/g,"$1");c(this).val(j)});if(c("*").is(".uk-form-file-input")){c("input.uk-form-file-input").change(function(){c(this).parent().find(".uk-form-file-text").text(jQuery(this).val())})}c("#regionSelect").on("show.uk.modal",function(){c("#openRegionSelect").trigger("click")});c("[data-set-region]").live("click",function(){UIkit.modal("#regionSelect").hide();c.cookie("region",c(this).data("set-region"),{expires:365,path:"/"});location.reload()});if(c("*").is("[data-phones]")){f("start",c(this))}c("body").on("click","[data-phone-add]",function(){f("add",c(this).parents("[data-phones]"))});function f(n,l){var k=l.find("[data-phone]");if(n=="start"){c(k).each(function(){var o=c(this).find("[data-phone-number] input");if(o.val()!==""){c(this).removeClass("uk-hidden");c(this).addClass("uk-show")}})}var m=l.find("[data-phone].uk-hidden");if(m.length>0){m[0].removeClass("uk-hidden");m[0].addClass("uk-show")}var j=l.find("[data-phone].uk-show");if(j.length==k.length){l.find("[data-phone-add]").addClass("uk-hidden")}}if(window.location.hash){var i=window.location.hash.substring(1);if(i){c("#tabs-nav ."+i).addClass("uk-active")}}c("#comments .uk-pagination a").each(function(){if(c(this).attr("href")){c(this).attr("href",c(this).attr("href")+"#comments")}});c("#tabs-nav a").on("click",function(){var j=c(this).parent().attr("class");window.location.hash=j});if(c("body").find("#modal-map").length>0){var h;function g(){var j=new ymaps.Map("modal-map",{center:[0,0],zoom:10,controls:["zoomControl"]});c("body").on("click","[data-nerudas-modal-map]",function(){var k=c(this).data("nerudas-modal-map");UIkit.modal("#mapModal").show();c("#modal-map").height(Math.round((c("#modal-map").width()/4)*3));c("#mapModal .uk-modal-header").html('<a href="'+k.link+'" class="uk-link-muted">'+k.title+"</a>");j.geoObjects.removeAll();contentLayout=ymaps.templateLayoutFactory.createClass('<a style=" display:block; position: absolute; padding: 10px; bottom: 10px; color: #444; font-weight: bold; text-align: left; white-space: nowrap; border: 1px solid #e5e5e5; background: #fff;" href="'+k.link+'">'+k.title+"</a>"),j.setCenter([k.latitude,k.longitude],k.zoom,{checkZoomRange:true});j.geoObjects.add(new ymaps.Placemark([k.latitude,k.longitude],{balloonContentHeader:'<a href="'+k.link+'">'+k.title+"</a>",balloonContent:k.text,iconContent:k.title},{iconImageHref:k.mark,iconLayout:"default#imageWithContent",iconImageSize:JSON.parse(k.markSize),iconImageOffset:JSON.parse(k.markOffset),iconContentLayout:contentLayout,preset:"default#image"}))})}ymaps.ready(g)}b();e();d()});c(window).resize(function(){b();e();d();a()})})(jQuery);function setAutoTextFieldWidth(b){var a=(b.val().length+1)*8;b.css("width",a)}function addPagination(a,b){var b=jQuery.parseJSON(b);var a=jQuery(a);(function(d){var e=3;if(d("body").innerWidth()>=480){var e=5}if(d("body").innerWidth()>=768){var e=7}a.html("");var c=UIkit.pagination(a);c.options.pages=b.pagesTotal;c.options.currentPage=b.pagesCurrent-1;c.options.displayedPages=e;c.init();d(d(a.selector+" a")).each(function(){var f=getPaginationURLParams(window.location.href.split("#")[0]);f.start=d(this).data("page")*b.limit;var g=window.location.href.split("?")[0];var g=g+"?"+getPaginationURL(f);if(window.location.hash){var g=g+window.location.hash}d(this).attr("href",g);d(this).removeAttr("data-page")})})(jQuery)}function getPaginationURLParams(a){var c={};var d=a.substring(a.indexOf("?")+1).split("&");for(var b=0;b<d.length;b++){if(!d[b]){continue}var e=d[b].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}function getPaginationURL(c){var b=[];for(var a in c){if(c.hasOwnProperty(a)){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c[a]))}}return b.join("&")};