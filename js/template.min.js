(function(b){function d(){b(b("[data-ratio-height]")).each(function(){var g=b(this).data("ratio-height");var f=g[0];var e=g[1];b(this).height(Math.round((b(this).width()/f)*e))})}function a(){if(b("*").is(".tm-middle")){var e=b(window).height()-b(".tm-middle").offset().top-b(".tm-footer").outerHeight(true);if(e<b(window).height()){}}}function c(){var i=b(".tm-top .uk-navbar-breadcrumb");var g=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb");var e=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop");var f=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop ul");var h=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop > a > .text");if(g.width()>i.width()){b(b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item")).each(function(){if(b(g).width()>i.width()){var j=b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .item");e.removeClass("uk-hidden");var k=b(this).find("a .text").text();if(k!==""){h.text(k)}b(this).prependTo(f);if(b(j).length==1){e.width(i.width())}}})}else{b(b(".tm-top .uk-navbar-breadcrumb .uk-breadcrumb > .drop .item")).each(function(){if(b(g).width()<=i.width()){var j=b(this).parent().find("li");var k=b(j[1]).find("a .text").text();if(k!==""){h.text(k)}e.after(b(this));if(b(j).length==0){e.addClass("uk-hidden")}}else{e.addClass("uk-hidden")}})}}b(document).ready(function(){b("#navigation").on({"show.uk.offcanvas":function(){b("body").css("overflow","hidden")},"hide.uk.offcanvas":function(){b("body").css("overflow","")}});b(window).scroll(function(){if(b(this).scrollTop()>100){b("#backToTop").fadeIn()}else{b("#backToTop").fadeOut()}});b("time.timeago").timeago();b("body").on("keyup","input[data-numbers]",function(){var i=b(this).val().replace(/[^\d]*/g,"").replace(/^[^\d]*(\d+([.,]\d{0,5})?).*$/g,"$1");b(this).val(i)});if(b("*").is(".uk-form-file-input")){b("input.uk-form-file-input").change(function(){b(this).parent().find(".uk-form-file-text").text(jQuery(this).val())})}b("#regionSelect").on("show.uk.modal",function(){b("#openRegionSelect").trigger("click")});b("[data-set-region]").live("click",function(){UIkit.modal("#regionSelect").hide();b.cookie("region",b(this).data("set-region"),{expires:365,path:"/"});location.reload()});if(b("*").is("[data-phones]")){e("start",b(this))}b("body").on("click","[data-phone-add]",function(){e("add",b(this).parents("[data-phones]"))});function e(m,k){var j=k.find("[data-phone]");if(m=="start"){b(j).each(function(){var n=b(this).find("[data-phone-number] input");if(n.val()!==""){b(this).removeClass("uk-hidden");b(this).addClass("uk-show")}})}var l=k.find("[data-phone].uk-hidden");if(l.length>0){l[0].removeClass("uk-hidden");l[0].addClass("uk-show")}var i=k.find("[data-phone].uk-show");if(i.length==j.length){k.find("[data-phone-add]").addClass("uk-hidden")}}if(window.location.hash){var h=window.location.hash.substring(1);if(h){b("#tabs-nav ."+h).addClass("uk-active")}}b("#comments .uk-pagination a").each(function(){if(b(this).attr("href")){b(this).attr("href",b(this).attr("href")+"#comments")}});b("#tabs-nav a").on("click",function(){var i=b(this).parent().attr("class");window.location.hash=i});if(b("body").find("#modal-map").length>0){var g;function f(){var i=new ymaps.Map("modal-map",{center:[0,0],zoom:10,controls:["zoomControl"]});b("body").on("click","[data-nerudas-modal-map]",function(){var j=b(this).data("nerudas-modal-map");UIkit.modal("#mapModal").show();b("#modal-map").height(Math.round((b("#modal-map").width()/4)*3));b("#mapModal .uk-modal-header").html('<a href="'+j.link+'" class="uk-link-muted">'+j.title+"</a>");i.geoObjects.removeAll();contentLayout=ymaps.templateLayoutFactory.createClass('<a style=" display:block; position: absolute; padding: 10px; bottom: 10px; color: #444; font-weight: bold; text-align: left; white-space: nowrap; border: 1px solid #e5e5e5; background: #fff;" href="'+j.link+'">'+j.title+"</a>"),i.setCenter([j.latitude,j.longitude],j.zoom,{checkZoomRange:true});i.geoObjects.add(new ymaps.Placemark([j.latitude,j.longitude],{balloonContentHeader:'<a href="'+j.link+'">'+j.title+"</a>",balloonContent:j.text,iconContent:j.title},{iconImageHref:j.mark,iconLayout:"default#imageWithContent",iconImageSize:JSON.parse(j.markSize),iconImageOffset:JSON.parse(j.markOffset),iconContentLayout:contentLayout,preset:"default#image"}))})}ymaps.ready(f)}a();d();c()});b(window).resize(function(){a();d();c()})})(jQuery);function setAutoTextFieldWidth(b){var a=(b.val().length+1)*8;b.css("width",a)}function addPagination(a,b){var b=jQuery.parseJSON(b);var a=jQuery(a);(function(d){var e=3;if(d("body").innerWidth()>=480){var e=5}if(d("body").innerWidth()>=768){var e=7}a.html("");var c=UIkit.pagination(a);c.options.pages=b.pagesTotal;c.options.currentPage=b.pagesCurrent-1;c.options.displayedPages=e;c.init();d(d(a.selector+" a")).each(function(){var f=getPaginationURLParams(window.location.href.split("#")[0]);f.start=d(this).data("page")*b.limit;var g=window.location.href.split("?")[0];var g=g+"?"+getPaginationURL(f);if(window.location.hash){var g=g+window.location.hash}d(this).attr("href",g);d(this).removeAttr("data-page")})})(jQuery)}function getPaginationURLParams(a){var c={};var d=a.substring(a.indexOf("?")+1).split("&");for(var b=0;b<d.length;b++){if(!d[b]){continue}var e=d[b].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}function getPaginationURL(c){var b=[];for(var a in c){if(c.hasOwnProperty(a)){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c[a]))}}return b.join("&")};